!function(t){t.fn.tinyscrollbar=function(i){function o(){d.obj.bind("mousedown",s),c.obj.bind("mouseup",n),i.scroll&&this.addEventListener?(u[0].addEventListener("DOMMouseScroll",e,!1),u[0].addEventListener("mousewheel",e,!1)):i.scroll&&(u[0].onmousewheel=e)}function s(i){return w.start=j?i.pageX:i.pageY,p.start=parseInt(d.obj.css(f)),t(document).bind("mousemove",n),t(document).bind("mouseup",a),d.obj.bind("mouseup",a),!1}function e(t){if(!(h.ratio>=1)){var o=120==t.wheelDelta||t.detail==-3?1:-1;x-=o*i.wheel,x=Math.min(h[i.axis]-b[i.axis],Math.max(0,x)),d.obj.css(f,x/l.ratio),h.obj.css(f,-x),t.preventDefault()}}function a(i){return t(document).unbind("mousemove",n),t(document).unbind("mouseup",a),d.obj.unbind("mouseup",a),!1}function n(t){return h.ratio>=1||(p.now=Math.min(c[i.axis]-d[i.axis],Math.max(0,p.start+((j?t.pageX:t.pageY)-w.start))),x=p.now*l.ratio,h.obj.css(f,-x),d.obj.css(f,p.now)),!1}var r={axis:"y",wheel:40,scroll:!0},i=t.extend(r,i),u=t(this),b={obj:t(".viewport",this)},h={obj:t(".overview",this)},l={obj:t(".scrollbar",this)},c={obj:t(".track",l.obj)},d={obj:t(".thumb",l.obj)},j="x"==i.axis,f=j?"left":"top",m=j?"width":"height",x=0,p={start:0,now:0},w={};return this.length>1?(this.each(function(){t(this).tinyscrollbar(i)}),this):(this.initialize=function(){this.update(),o()},this.update=function(){b[i.axis]=j?b.obj[0].offsetWidth:b.obj[0].offsetHeight,h[i.axis]=j?h.obj[0].scrollWidth:h.obj[0].scrollHeight,h.ratio=b[i.axis]/h[i.axis],l.obj.toggleClass("disable",h.ratio>=1),w.start=d.obj.offset()[f],c.obj.css(m,b[i.axis]),c[i.axis]=j?c.obj[0].offsetWidth:c.obj[0].offsetHeight,d[i.axis]=Math.min(c[i.axis],Math.max(0,c[i.axis]*h.ratio)),d.obj.css(m,d[i.axis]),l.ratio=h[i.axis]/c[i.axis]},this.initialize())}}(jQuery);